"use strict";(self.webpackChunkart_comp_project=self.webpackChunkart_comp_project||[]).push([[418],{418:function(e,s,t){t.r(s),t.d(s,{default:function(){return f}});var a=t(885),n=t(7905),i=t(4946),r=t(390),l=t(6331),c=t(3948),o=t(7025),d=t(9914),m=t(9559),u=t(3237),h=t(416),x=t(619),j=t(2559);var g=function(e){var s=(0,r.useState)(!0),t=(0,a.Z)(s,2),l=t[0],c=t[1],d=(0,r.useState)({}),m=(0,a.Z)(d,2),g=m[0],f=m[1],p=(0,r.useState)(""),_=(0,a.Z)(p,2),Z=_[0],N=_[1],w=(0,r.useContext)(u.U),b=w.user,y=w.getImageData,C=w.addToImageMap;return(0,r.useEffect)((function(){var s=y(e.sid);s?(f(s),c(!1)):(c(!0),b.functions.fetchByID(e.sid).then((function(s){s.result&&(C(e.sid,s.result),f(s.result),N(new Date(s.result.auction_date).getFullYear()),c(!1))})))}),[]),l?(0,j.jsx)(h.Z,{variant:"border",size:"sm"}):g?(0,j.jsxs)("div",{className:"px-1 pb-1",children:[(0,j.jsxs)(o.Z.Caption,{title:"Art Title",children:[g.title," by ",(0,j.jsx)("span",{className:"fw-bold",children:g.artist_name})]}),(0,j.jsxs)(o.Z.Caption,{title:"Auction Name ".concat(g.auction_name," - ").concat(Z),className:"font-monospace text-truncate d-none d-md-block",children:[Z,", ",g.auction_name]}),(0,j.jsxs)(o.Z.Caption,{className:"py-1 d-none d-md-flex",children:[(0,j.jsx)("div",{title:"Dominant Color",className:"color-box me-1",style:{backgroundColor:"#".concat(g.dom_color)}}),(0,j.jsxs)("span",{className:"text-truncate",children:[" ",g.size]})]}),(0,j.jsx)(o.Z.Caption,{className:"py-1 d-none d-md-flex",children:(0,j.jsxs)("span",{title:"Brightness",children:[(0,j.jsx)(i.G,{icon:n.DhN,className:"me-2"})," ","  ",Math.round(10*g.brightness)/10]})}),(0,j.jsxs)(o.Z.Caption,{className:"d-flex justify-content-between",children:[(0,j.jsxs)(x.Z,{pill:!0,bg:"success",title:"Cost",children:[(0,j.jsx)(i.G,{icon:n.egO,className:"me-1"}),Math.round(10*g.hi_est)/10," -"," ",Math.round(10*g.lo_est)/10]}),(0,j.jsxs)("a",{href:g.lot_link,target:"_blank",rel:"noreferrer",className:"small",children:["Lot ID : ",g.lot_id,(0,j.jsx)(i.G,{icon:n.gJF,className:"mx-1"})]})]})]}):null};var f=function(e){var s=(0,r.useContext)(u.U),t=s.user,h=s.isAdmin,x=(0,r.useState)(new Set),f=(0,a.Z)(x,2),p=f[0],_=f[1];return(0,j.jsxs)(d.Z,{className:"shadow p-2 my-2 art-item rounded","data-key":e._id,children:[(0,j.jsx)(c.Z,{xs:12,md:4,children:(0,j.jsxs)(o.Z,{className:"w-100",children:[(0,j.jsx)(m.Z,{smallImage:{alt:e.title,isFluidWidth:!0,src:e.image_url},largeImage:{src:e.image_url,width:1200,height:1800},enlargedImagePosition:"over"}),(0,j.jsx)(g,{sid:e._id})]})}),(0,j.jsx)(c.Z,{className:"p-1",children:Array.from(Array(3).keys()).map((function(s){return(0,j.jsx)(d.Z,{children:[1+3*s,2+3*s,3+3*s].filter((function(s){return!!e["s".concat(s)]&&!p.has(s)})).map((function(s){return(0,j.jsx)(c.Z,{xs:4,children:(0,j.jsxs)(o.Z,{className:"w-100 shadow-sm bg-white p-1",children:[(0,j.jsxs)(o.Z.Caption,{title:"Percentage Similarity",className:"fw-bold d-flex justify-content-between",children:[(0,j.jsxs)("span",{children:[Math.round(10*e["percent_similar_s".concat(s)])/10," % Similar"]}),h?(0,j.jsx)(l.Z,{onClick:function(){return function(s){var a=new Set(p).add(s);_(a),t.functions.deleteSimilarImage(e._id,s).then((function(e){console.log(e)}))}(s)},variant:"outline",className:"p-0",size:"sm",children:(0,j.jsx)(i.G,{icon:n.$aW,size:"sm",color:"grey"})}):null]}),(0,j.jsx)(m.Z,{smallImage:{alt:e.title,isFluidWidth:!0,src:e["s".concat(s,"_image_uri")]},largeImage:{src:e["s".concat(s,"_image_uri")],width:1200,height:1800},enlargedImagePosition:"over"}),(0,j.jsx)(g,{sid:e["s".concat(s)]})]})},s+"similar-image")}))},s+"similar-image-row")}))})]})}}}]);
//# sourceMappingURL=418.2eb847d1.chunk.js.map