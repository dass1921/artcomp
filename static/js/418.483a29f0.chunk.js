"use strict";(self.webpackChunkart_comp_project=self.webpackChunkart_comp_project||[]).push([[418],{418:function(e,s,n){n.r(s),n.d(s,{default:function(){return f}});var a=n(885),t=n(7905),i=n(4946),l=n(390),r=n(6331),c=n(3948),o=n(7025),d=n(9914),m=n(3237),u=n(416),h=n(619),x=n(9559),p=n(2559);var j=function(e){var s=(0,l.useState)(!0),n=(0,a.Z)(s,2),r=n[0],c=n[1],d=(0,l.useState)({}),j=(0,a.Z)(d,2),f=j[0],g=j[1],Z=(0,l.useState)(""),N=(0,a.Z)(Z,2),_=N[0],v=N[1],b=(0,l.useContext)(m.U),w=b.user,C=b.getImageData,y=b.addToImageMap;return(0,l.useEffect)((function(){var s=C(e.sid);console.log(s),s?(g(s),c(!1)):(c(!0),w.functions.fetchByID(e.sid).then((function(s){var n,a;s.result&&(y(e.sid,s.result[0]),g(s.result[0]),v(null===(n=s.result[0])||void 0===n||null===(a=n.auction_date)||void 0===a?void 0:a.getFullYear()),c(!1))})))}),[]),r?(0,p.jsx)(u.Z,{variant:"border",size:"sm"}):f?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(x.Z,{smallImage:{alt:f.title,isFluidWidth:!0,src:f.image_url},largeImage:{src:f.image_url,width:1200,height:1800},enlargedImagePosition:"over"}),(0,p.jsxs)("div",{className:"px-1 pb-1",children:[(0,p.jsxs)(o.Z.Caption,{title:"Art Title",children:[f.title," by ",(0,p.jsx)("span",{className:"fw-bold",children:f.artist_name})]}),(0,p.jsxs)(o.Z.Caption,{title:"Auction Name ".concat(f.auction_name," - ").concat(_),className:"font-monospace text-truncate d-none d-md-block",children:[_,", ",f.auction_name]}),(0,p.jsxs)(o.Z.Caption,{className:"py-1 d-none d-md-flex",children:[(0,p.jsx)("div",{title:"Dominant Color",className:"color-box me-1",style:{backgroundColor:"#".concat(f.dom_color)}}),(0,p.jsxs)("span",{className:"text-truncate",children:[" ",f.size]})]}),(0,p.jsx)(o.Z.Caption,{className:"py-1 d-none d-md-flex",children:(0,p.jsxs)("span",{title:"Brightness",children:[(0,p.jsx)(i.G,{icon:t.DhN,className:"me-2"})," ","  ",Math.round(10*f.brightness)/10]})}),(0,p.jsxs)(o.Z.Caption,{className:"d-flex justify-content-between",children:[(0,p.jsxs)(h.Z,{pill:!0,bg:"success",title:"Cost",children:[(0,p.jsx)(i.G,{icon:t.egO,className:"me-1"}),Math.round(10*f.hi_est)/10," -"," ",Math.round(10*f.lo_est)/10]}),(0,p.jsxs)("a",{href:f.lot_link,target:"_blank",rel:"noreferrer",className:"small",children:["Lot ID : ",f.lot_id,(0,p.jsx)(i.G,{icon:t.gJF,className:"mx-1"})]})]}),f.provenance?(0,p.jsx)(o.Z.Caption,{className:"d-flex small p-1",children:f.provenance.replace(/provenance:|/gi,"")}):null]})]}):null};var f=function(e){var s=(0,l.useContext)(m.U),n=s.user,u=s.isAdmin;console.log(e);var h=(0,l.useState)(new Set),x=(0,a.Z)(h,2),f=x[0],g=x[1];return(0,p.jsxs)(d.Z,{className:"shadow p-2 my-2 art-item rounded","data-key":e._id,children:[(0,p.jsx)(c.Z,{xs:12,md:4,children:(0,p.jsx)(o.Z,{className:"w-100",children:(0,p.jsx)(j,{sid:e._id})})}),(0,p.jsx)(c.Z,{className:"p-1",children:Array.from(Array(3).keys()).map((function(s){return(0,p.jsx)(d.Z,{children:[1+3*s,2+3*s,3+3*s].filter((function(s){return!!e["s".concat(s)]&&!f.has(s)})).map((function(s){return(0,p.jsx)(c.Z,{xs:4,children:(0,p.jsxs)(o.Z,{className:"w-100 shadow-sm bg-white p-1",children:[(0,p.jsxs)(o.Z.Caption,{title:"Percentage Similarity",className:"fw-bold d-flex justify-content-between",children:[(0,p.jsxs)("span",{children:[Math.round(100*e["percent_similar_s".concat(s)])," % Similar"]}),u?(0,p.jsx)(r.Z,{onClick:function(){return function(s){var a=new Set(f).add(s);g(a),n.functions.deleteSimilarImage(e._id,s).then((function(e){console.log(e)}))}(s)},variant:"outline",className:"p-0",size:"sm",children:(0,p.jsx)(i.G,{icon:t.$aW,size:"sm",color:"grey"})}):null]}),(0,p.jsx)(j,{sid:e["s".concat(s)]})]})},s+"similar-image")}))},s+"similar-image-row")}))})]})}}}]);
//# sourceMappingURL=418.483a29f0.chunk.js.map