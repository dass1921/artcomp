"use strict";(self.webpackChunkart_comp_project=self.webpackChunkart_comp_project||[]).push([[418],{418:function(e,s,a){a.r(s),a.d(s,{default:function(){return g}});var t=a(885),n=a(7905),i=a(4946),l=a(390),r=a(6331),c=a(3948),o=a(7025),d=a(9914),m=a(9559),u=a(3237),h=a(416),x=a(619),p=a(2559);var j=function(e){var s=(0,l.useState)(!0),a=(0,t.Z)(s,2),r=a[0],c=a[1],d=(0,l.useState)({}),m=(0,t.Z)(d,2),j=m[0],g=m[1],f=(0,l.useState)(""),_=(0,t.Z)(f,2),Z=_[0],N=_[1],w=(0,l.useContext)(u.U),b=w.user,v=w.getImageData,C=w.addToImageMap;return(0,l.useEffect)((function(){var s=v(e.sid);s?(g(s),c(!1)):(c(!0),b.functions.fetchByID(e.sid).then((function(s){s.result&&(C(e.sid,s.result),g(s.result[0]),N(new Date(s.result.auction_date).getFullYear()),c(!1))})))}),[]),r?(0,p.jsx)(h.Z,{variant:"border",size:"sm"}):j?(0,p.jsxs)("div",{className:"px-1 pb-1",children:[(0,p.jsxs)(o.Z.Caption,{title:"Art Title",children:[j.title," by ",(0,p.jsx)("span",{className:"fw-bold",children:j.artist_name})]}),(0,p.jsxs)(o.Z.Caption,{title:"Auction Name ".concat(j.auction_name," - ").concat(Z),className:"font-monospace text-truncate d-none d-md-block",children:[Z,", ",j.auction_name]}),(0,p.jsxs)(o.Z.Caption,{className:"py-1 d-none d-md-flex",children:[(0,p.jsx)("div",{title:"Dominant Color",className:"color-box me-1",style:{backgroundColor:"#".concat(j.dom_color)}}),(0,p.jsxs)("span",{className:"text-truncate",children:[" ",j.size]})]}),(0,p.jsx)(o.Z.Caption,{className:"py-1 d-none d-md-flex",children:(0,p.jsxs)("span",{title:"Brightness",children:[(0,p.jsx)(i.G,{icon:n.DhN,className:"me-2"})," ","  ",Math.round(10*j.brightness)/10]})}),(0,p.jsxs)(o.Z.Caption,{className:"d-flex justify-content-between",children:[(0,p.jsxs)(x.Z,{pill:!0,bg:"success",title:"Cost",children:[(0,p.jsx)(i.G,{icon:n.egO,className:"me-1"}),Math.round(10*j.hi_est)/10," -"," ",Math.round(10*j.lo_est)/10]}),(0,p.jsxs)("a",{href:j.lot_link,target:"_blank",rel:"noreferrer",className:"small",children:["Lot ID : ",j.lot_id,(0,p.jsx)(i.G,{icon:n.gJF,className:"mx-1"})]})]}),j.provenance?(0,p.jsx)(o.Z.Caption,{className:"d-flex small p-1",children:j.provenance.replace(/provenance:|/gi,"")}):null]}):null};var g=function(e){var s=(0,l.useContext)(u.U),a=s.user,h=s.isAdmin,x=(0,l.useState)(new Set),g=(0,t.Z)(x,2),f=g[0],_=g[1];return(0,p.jsxs)(d.Z,{className:"shadow p-2 my-2 art-item rounded","data-key":e._id,children:[(0,p.jsx)(c.Z,{xs:12,md:4,children:(0,p.jsxs)(o.Z,{className:"w-100",children:[(0,p.jsx)(m.Z,{smallImage:{alt:e.title,isFluidWidth:!0,src:e.image_url},largeImage:{src:e.image_url,width:1200,height:1800},enlargedImagePosition:"over"}),(0,p.jsx)(j,{sid:e._id})]})}),(0,p.jsx)(c.Z,{className:"p-1",children:Array.from(Array(3).keys()).map((function(s){return(0,p.jsx)(d.Z,{children:[1+3*s,2+3*s,3+3*s].filter((function(s){return!!e["s".concat(s)]&&!f.has(s)})).map((function(s){return(0,p.jsx)(c.Z,{xs:4,children:(0,p.jsxs)(o.Z,{className:"w-100 shadow-sm bg-white p-1",children:[(0,p.jsxs)(o.Z.Caption,{title:"Percentage Similarity",className:"fw-bold d-flex justify-content-between",children:[(0,p.jsxs)("span",{children:[Math.round(10*e["percent_similar_s".concat(s)])/10," % Similar"]}),h?(0,p.jsx)(r.Z,{onClick:function(){return function(s){var t=new Set(f).add(s);_(t),a.functions.deleteSimilarImage(e._id,s).then((function(e){console.log(e)}))}(s)},variant:"outline",className:"p-0",size:"sm",children:(0,p.jsx)(i.G,{icon:n.$aW,size:"sm",color:"grey"})}):null]}),(0,p.jsx)(m.Z,{smallImage:{alt:e.title,isFluidWidth:!0,src:e["s".concat(s,"_image_uri")]},largeImage:{src:e["s".concat(s,"_image_uri")],width:1200,height:1800},enlargedImagePosition:"over"}),(0,p.jsx)(j,{sid:e["s".concat(s)]})]})},s+"similar-image")}))},s+"similar-image-row")}))})]})}}}]);
//# sourceMappingURL=418.36e965f1.chunk.js.map