"use strict";(self.webpackChunkart_comp_project=self.webpackChunkart_comp_project||[]).push([[418],{418:function(e,t,s){s.r(t),s.d(t,{default:function(){return f}});var a=s(885),n=s(7905),i=s(4946),r=s(390),l=s(6331),c=s(3948),o=s(7025),d=s(9914),m=s(9559),u=s(1047),h=s(416),x=s(2559);var g=function(e){var t=(0,r.useState)(!0),s=(0,a.Z)(t,2),l=s[0],c=s[1],d=(0,r.useState)({}),m=(0,a.Z)(d,2),g=m[0],f=m[1],j=(0,r.useContext)(u.U),p=j.user,_=j.getImageData,Z=j.addToImageMap;return(0,r.useEffect)((function(){var t=_(e.sid);t?(f(t),c(!1)):(c(!0),p.functions.fetchByID(e.sid).then((function(t){t.result&&(Z(e.sid,t.result),f(t.result),c(!1))})))}),[]),l?(0,x.jsx)(h.Z,{variant:"border",size:"sm"}):g?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(o.Z.Caption,{title:"Art Title",children:[g.title," by ",(0,x.jsx)("span",{className:"fw-bold",children:g.artist_name})]}),(0,x.jsxs)(o.Z.Caption,{title:"Auction Name",className:"font-monospace text-truncate d-none d-md-block",children:[new Date(g.auction_date).getFullYear(),", ",g.auction_name]}),(0,x.jsxs)(o.Z.Caption,{className:"py-1 d-none d-md-flex",children:[(0,x.jsx)("div",{title:"Dominant Color",className:"color-box me-1",style:{backgroundColor:"#".concat(g.dom_color)}})," ",(0,x.jsxs)("span",{title:"size",children:[" ",g.size]})]}),(0,x.jsxs)(o.Z.Caption,{className:"d-flex justify-content-between",children:[(0,x.jsxs)("span",{title:"Brightness",children:[(0,x.jsx)(i.G,{icon:n.DhN,className:"me-2"})," ","  ",Math.round(10*g.brightness)/10]}),(0,x.jsxs)("a",{href:g.lot_link,target:"_blank",rel:"noreferrer",children:["Lot ID : ",g.lot_id]})]})]}):null};var f=function(e){var t=(0,r.useContext)(u.U),s=t.user,h=(t.getImageData,t.addToImageMap,(0,r.useState)(new Set)),f=(0,a.Z)(h,2),j=f[0],p=f[1];return(0,x.jsxs)(d.Z,{className:"shadow p-2 my-2 art-item rounded","data-key":e._id,children:[(0,x.jsx)(c.Z,{xs:12,md:4,children:(0,x.jsxs)(o.Z,{className:"w-100",children:[(0,x.jsx)(m.Z,{smallImage:{alt:e.title,isFluidWidth:!0,src:e.image_url},largeImage:{src:e.image_url,width:1200,height:1800},enlargedImagePosition:"over"}),(0,x.jsx)(g,{sid:e._id})]})}),(0,x.jsx)(c.Z,{className:"p-1",children:Array.from(Array(3).keys()).map((function(t){return(0,x.jsx)(d.Z,{children:[1+3*t,2+3*t,3+3*t].filter((function(t){return!!e["s".concat(t)]&&!j.has(t)})).map((function(t){return(0,x.jsx)(c.Z,{xs:4,children:(0,x.jsxs)(o.Z,{className:"w-100",children:[(0,x.jsxs)(o.Z.Caption,{title:"Percentage Similarity",className:"fw-bold d-flex justify-content-between",children:[(0,x.jsxs)("span",{children:[Math.round(10*e["percent_similar_s".concat(t)])/10," % Similar"]}),(0,x.jsx)(l.Z,{onClick:function(){return function(t){var a=new Set(j).add(t);p(a),s.functions.deleteSimilarImage(e._id,t).then((function(e){console.log(e)}))}(t)},variant:"outline",className:"p-0",size:"sm",children:(0,x.jsx)(i.G,{icon:n.$aW,size:"sm",color:"grey"})})]}),(0,x.jsx)(m.Z,{smallImage:{alt:e.title,isFluidWidth:!0,src:e["s".concat(t,"_image_uri")]},largeImage:{src:e["s".concat(t,"_image_uri")],width:1200,height:1800},enlargedImagePosition:"over"}),(0,x.jsx)(g,{sid:e["s".concat(t)]})]})},t+"similar-image")}))},t+"similar-image-row")}))})]})}}}]);
//# sourceMappingURL=418.4388e246.chunk.js.map