{"version":3,"file":"static/js/670.a665198d.chunk.js","mappings":"wMAmEA,SAASA,EAAUC,GAAQ,IAAD,EACxB,GAA8BC,EAAAA,EAAAA,WAAS,GAAK,eAArCC,EAAO,KAAEC,EAAU,KAC1B,GAA8BF,EAAAA,EAAAA,UAAuB,QAAf,EAACD,EAAMI,gBAAQ,QAAI,IAAG,eAArDC,EAAO,KAAEC,EAAU,KAElBC,GAASC,EAAAA,EAAAA,YAAWC,EAAAA,GAApBF,KAiCR,OA/BAG,EAAAA,EAAAA,YAAU,WAEsB,IAAD,GAD7BP,GAAW,IACNH,EAAMI,UAAYG,KACjB,OAAJA,QAAI,IAAJA,GAAe,QAAX,EAAJA,EAAMI,iBAAS,OAAf,EACIC,qBAAqBZ,EAAMa,WAC5BC,MAAK,SAACC,GACLC,QAAQC,IAAIF,EAAKG,QACblB,EAAMmB,OACRb,EACES,EAAKG,OAAOE,KAAI,SAACC,GAAC,MAAM,CACtBC,MAAOD,EAAEE,IACTC,MAAO,IAAIC,KAAKJ,EAAEE,KAAKG,eACxB,KAGHpB,EACES,EAAKG,OAAOE,KAAI,SAACC,GAAC,MAAM,CAAEC,MAAOD,EAAEE,IAAKC,MAAOH,EAAEE,IAAK,KAG1DpB,GAAW,EACb,IACCwB,OAAM,SAACC,GACNZ,QAAQC,IAAIW,GACZzB,GAAW,EACb,IACC0B,SAAQ,SAACC,GAAC,OAAKd,QAAQC,IAAIa,EAAE,IAIpC,GAAG,CAACvB,KAGF,iCACE,iBAAMwB,UAAU,aAAY,SAAE/B,EAAMwB,SACpC,SAAC,KAAM,CACLQ,SAAO,EACPC,KAAMjC,EAAMa,UACZqB,MAAOlC,EAAMa,UACbR,QAASA,EACT8B,SAAUnC,EAAMmC,SAChBC,UAAWlC,EACXmC,cAAc,UAItB,CArDA,UA5DA,SAAqBrC,GACnB,OAAgCQ,EAAAA,EAAAA,YAAWC,EAAAA,GAAnC6B,EAAO,EAAPA,QAASC,EAAU,EAAVA,WACXC,EAAkB,SAACC,EAAKnB,GAC5B,IAAIoB,EAAO,IAAIC,IAAIL,GACnBI,EAAKE,IACHH,EACAnB,EAAMF,KAAI,SAACC,GAAC,OAAKA,EAAEC,KAAK,KAE1BN,QAAQC,IAAIyB,GACZH,EAAWG,EACb,EACA,OACE,UAAC,IAAG,CAACX,UAAU,OAAM,WACnB,SAAC,IAAG,CAACc,GAAI,GAAId,UAAU,OAAM,UAC3B,SAAChC,EAAS,CACRiC,SAAO,EACPnB,UAAU,cACVW,MAAM,UAENW,SAAU,SAACd,GAAC,OAAKmB,EAAgB,cAAenB,EAAE,OAGtD,SAAC,IAAG,CAACwB,GAAI,GAAId,UAAU,OAAM,UAC3B,SAAChC,EAAS,CACRiC,SAAO,EACPnB,UAAU,WACVW,MAAM,eACNW,SAAU,SAACd,GAAC,OAAKmB,EAAgB,WAAYnB,EAAE,OAInD,SAAC,IAAG,CAACwB,GAAI,GAAId,UAAU,OAAM,UAC3B,SAAChC,EAAS,CACRiC,SAAO,EACPnB,UAAU,eACVW,MAAM,UACNW,SAAU,SAACd,GAAC,OAAKmB,EAAgB,eAAgBnB,EAAE,OAGvD,SAAC,IAAG,CAACwB,GAAI,GAAId,UAAU,OAAM,UAC3B,SAAChC,EAAS,CACRiC,SAAO,EACPnB,UAAU,gBACVW,MAAM,gBACNW,SAAU,SAACd,GAAC,OAAKmB,EAAgB,gBAAiBnB,EAAE,OAGxD,SAAC,IAAG,CAACwB,GAAI,GAAId,UAAU,OAAM,UAC3B,SAAChC,EAAS,CACRiC,SAAO,EACPnB,UAAU,eACVW,MAAM,eACNW,SAAU,SAACd,GAAC,OAAKmB,EAAgB,eAAgBnB,EAAE,EACnDF,QAAM,QAKhB,C","sources":["components/filter-panel.js"],"sourcesContent":["import { useContext, useEffect, useState } from \"react\";\r\nimport { Col, Row } from \"react-bootstrap\";\r\nimport Select from \"react-select\";\r\nimport { MongoContext } from \"../context/mongo-context\";\r\n\r\nfunction FilterPanel(props) {\r\n  const { filters, setFilters } = useContext(MongoContext);\r\n  const onChangeFilters = (key, value) => {\r\n    let copy = new Map(filters);\r\n    copy.set(\r\n      key,\r\n      value.map((v) => v.value)\r\n    );\r\n    console.log(copy);\r\n    setFilters(copy);\r\n  };\r\n  return (\r\n    <Row className=\"py-1\">\r\n      <Col xs={12} className=\"mb-3\">\r\n        <FilterBox\r\n          isMulti\r\n          filterKey=\"artist_name\"\r\n          label=\"Artists\"\r\n          // fallBack={ARTISTS.map((v) => ({ value: v, label: v }))}\r\n          onChange={(v) => onChangeFilters(\"artist_name\", v)}\r\n        />\r\n      </Col>\r\n      <Col xs={12} className=\"mb-3\">\r\n        <FilterBox\r\n          isMulti\r\n          filterKey=\"category\"\r\n          label=\"Art Category\"\r\n          onChange={(v) => onChangeFilters(\"category\", v)}\r\n          // fallBack={CATEGORY.map((v) => ({ value: v, label: v }))}\r\n        />\r\n      </Col>\r\n      <Col xs={12} className=\"mb-3\">\r\n        <FilterBox\r\n          isMulti\r\n          filterKey=\"auction_name\"\r\n          label=\"Auction\"\r\n          onChange={(v) => onChangeFilters(\"auction_name\", v)}\r\n        />\r\n      </Col>\r\n      <Col xs={12} className=\"mb-3\">\r\n        <FilterBox\r\n          isMulti\r\n          filterKey=\"auction_house\"\r\n          label=\"Auction House\"\r\n          onChange={(v) => onChangeFilters(\"auction_house\", v)}\r\n        />\r\n      </Col>\r\n      <Col xs={12} className=\"mb-3\">\r\n        <FilterBox\r\n          isMulti\r\n          filterKey=\"auction_date\"\r\n          label=\"Auction Date\"\r\n          onChange={(v) => onChangeFilters(\"auction_date\", v)}\r\n          isDate\r\n        />\r\n      </Col>\r\n    </Row>\r\n  );\r\n}\r\n\r\nexport default FilterPanel;\r\n\r\nfunction FilterBox(props) {\r\n  const [loading, setLoading] = useState(true);\r\n  const [options, setOptions] = useState(props.fallBack ?? []);\r\n\r\n  const { user } = useContext(MongoContext);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    if (!props.fallBack && user) {\r\n      user?.functions\r\n        ?.getSaffronArtFilters(props.filterKey)\r\n        .then((resp) => {\r\n          console.log(resp.result);\r\n          if (props.isDate) {\r\n            setOptions(\r\n              resp.result.map((v) => ({\r\n                value: v._id,\r\n                label: new Date(v._id).toDateString(),\r\n              }))\r\n            );\r\n          } else {\r\n            setOptions(\r\n              resp.result.map((v) => ({ value: v._id, label: v._id }))\r\n            );\r\n          }\r\n          setLoading(false);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n          setLoading(false);\r\n        })\r\n        .finally((x) => console.log(x));\r\n    }\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [user]);\r\n\r\n  return (\r\n    <>\r\n      <span className=\"text-white\">{props.label}</span>\r\n      <Select\r\n        isMulti\r\n        name={props.filterKey}\r\n        title={props.filterKey}\r\n        options={options}\r\n        onChange={props.onChange}\r\n        isLoading={loading}\r\n        menuPlacement=\"top\"\r\n      />\r\n    </>\r\n  );\r\n}\r\n"],"names":["FilterBox","props","useState","loading","setLoading","fallBack","options","setOptions","user","useContext","MongoContext","useEffect","functions","getSaffronArtFilters","filterKey","then","resp","console","log","result","isDate","map","v","value","_id","label","Date","toDateString","catch","err","finally","x","className","isMulti","name","title","onChange","isLoading","menuPlacement","filters","setFilters","onChangeFilters","key","copy","Map","set","xs"],"sourceRoot":""}