"use strict";(self.webpackChunkart_comp_project=self.webpackChunkart_comp_project||[]).push([[636],{2636:function(e,n,s){s.r(n),s.d(n,{default:function(){return A}});var a=s(885),t=s(7905),i=s(4946),r=s(390),l=s(6331),o=s(3948),c=s(2692),d=s(1413),u=s(5987),m=s(7715),f=s.n(m),x=s(188),h=s.n(x),p=s(6047),g=s(2559),j=["bsPrefix","className","fluid","rounded","roundedCircle","thumbnail"],b={bsPrefix:h().string,fluid:h().bool,rounded:h().bool,roundedCircle:h().bool,thumbnail:h().bool},N=r.forwardRef((function(e,n){var s=e.bsPrefix,a=e.className,t=e.fluid,i=e.rounded,r=e.roundedCircle,l=e.thumbnail,o=(0,u.Z)(e,j);return s=(0,p.vE)(s,"img"),(0,g.jsx)("img",(0,d.Z)((0,d.Z)({ref:n},o),{},{className:f()(a,t&&"".concat(s,"-fluid"),i&&"rounded",r&&"rounded-circle",l&&"".concat(s,"-thumbnail"))}))}));N.displayName="Image",N.defaultProps={fluid:!1,rounded:!1,roundedCircle:!1,thumbnail:!1};var _=N,v=["className"],C=r.forwardRef((function(e,n){var s=e.className,a=(0,u.Z)(e,v);return(0,g.jsx)(_,(0,d.Z)((0,d.Z)({ref:n},a),{},{className:f()(s,"figure-img")}))}));C.displayName="FigureImage",C.propTypes=b,C.defaultProps={fluid:!0};var w=C,Z=(0,c.Z)("figure-caption",{Component:"figcaption"}),y=(0,c.Z)("figure",{Component:"figure"}),k=Object.assign(y,{Image:w,Caption:Z}),S=s(9914),I=s(3237),M=s(416),F=s(619);var P=function(e){var n=(0,r.useState)(!0),s=(0,a.Z)(n,2),l=s[0],o=s[1],c=(0,r.useState)({}),d=(0,a.Z)(c,2),u=d[0],m=d[1],f=(0,r.useState)(""),x=(0,a.Z)(f,2),h=x[0],p=x[1],j=(0,r.useContext)(I.U),b=j.user,N=j.getImageData,v=j.addToImageMap,C=j.filters,w=j.setFilters;return(0,r.useEffect)((function(){var n=N(e.sid);n?(m(n),o(!1)):(o(!0),b.functions.fetchByID(e.sid).then((function(n){var s,a;n.result&&(v(e.sid.toString(),n.result[0]),m(n.result[0]),p(null===(s=n.result[0])||void 0===s||null===(a=s.auction_date)||void 0===a?void 0:a.getFullYear()),o(!1))})))}),[]),l?(0,g.jsx)(M.Z,{variant:"border",size:"sm"}):u?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(_,{fluid:!0,src:u.image_url,alt:u.title,className:"w-100 cursor-pointer",onClick:function(){return function(e){var n=new Map(C);n.set("_id",[e]),w(n)}(u._id)}}),(0,g.jsxs)("div",{className:"px-1 pb-1",children:[(0,g.jsxs)(k.Caption,{title:"Art Title",children:[u.title," by ",(0,g.jsx)("span",{className:"fw-bold",children:u.artist_name})]}),(0,g.jsxs)(k.Caption,{title:"Auction Name ".concat(u.auction_name," - ").concat(h),className:"font-monospace text-truncate d-none d-md-block",children:[h,", ",u.auction_name]}),(0,g.jsxs)(k.Caption,{className:"py-1 d-none d-md-flex",children:[(0,g.jsx)("div",{title:"Dominant Color",className:"color-box me-1",style:{backgroundColor:"#".concat(u.dom_color)}}),(0,g.jsxs)("span",{className:"text-truncate",children:[" ",u.size]})]}),(0,g.jsxs)(k.Caption,{className:"py-1 justify-content-between d-flex",children:[(0,g.jsxs)("span",{title:"Brightness",children:[(0,g.jsx)(i.G,{icon:t.DhN,className:"me-2"})," ",Math.round(10*u.brightness)/10]}),(0,g.jsx)(F.Z,{pill:!0,bg:"success",title:"Winning Bid",children:u.winning_bid>0?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(i.G,{icon:t.egO,className:"me-1"}),Math.round(10*u.winning_bid)/10]}):"Not Sold!"})]}),(0,g.jsxs)(k.Caption,{className:"d-flex justify-content-between",children:[u.hi_est>0||u.lo_est>0?(0,g.jsxs)(F.Z,{pill:!0,bg:"secondary",title:"Estimated Cost Range",children:[(0,g.jsx)(i.G,{icon:t.egO,className:"me-1"}),u.hi_est>0?Math.round(10*u.hi_est)/10+" -":null," ",u.lo_est>0?Math.round(10*u.lo_est)/10:null]}):null,(0,g.jsxs)("a",{href:u.lot_link,target:"_blank",rel:"noreferrer",className:"small",children:["Lot ID : ",u.lot_id,(0,g.jsx)(i.G,{icon:t.gJF,className:"mx-1"})]})]}),u.provenance?(0,g.jsx)(k.Caption,{className:"d-flex small p-1",children:u.provenance.replace(/provenance:|/gi,"")}):null]})]}):null};var A=function(e){var n=(0,r.useContext)(I.U),s=n.user,c=n.isAdmin,d=(0,r.useState)(new Set),u=(0,a.Z)(d,2),m=u[0],f=u[1];return(0,g.jsxs)(S.Z,{className:"shadow p-2 my-2 art-item rounded","data-key":e._id,children:[(0,g.jsx)(o.Z,{xs:12,md:4,children:(0,g.jsx)(k,{className:"w-100",children:(0,g.jsx)(P,{sid:e._id})})}),(0,g.jsx)(o.Z,{className:"p-1",children:Array.from(Array(3).keys()).map((function(n){return(0,g.jsx)(S.Z,{children:[1+3*n,2+3*n,3+3*n].filter((function(n){return!!e["s".concat(n)]&&!m.has(n)})).map((function(n){return(0,g.jsx)(o.Z,{xs:4,children:(0,g.jsxs)(k,{className:"w-100 shadow-sm bg-white p-1",children:[(0,g.jsxs)(k.Caption,{title:"Percentage Similarity",className:"fw-bold d-flex justify-content-between",children:[(0,g.jsxs)("span",{children:[Math.round(100*e["percent_similar_s".concat(n)])," % Similar"]}),c?(0,g.jsx)(l.Z,{onClick:function(){return function(n){var a=new Set(m).add(n);f(a),s.functions.deleteSimilarImage(e._id,n).then((function(e){console.log(e)}))}(n)},variant:"outline",className:"p-0",size:"sm",children:(0,g.jsx)(i.G,{icon:t.$aW,size:"sm",color:"grey"})}):null]}),(0,g.jsx)(P,{sid:e["s".concat(n)]})]})},n+"similar-image")}))},n+"similar-image-row")}))})]})}}}]);
//# sourceMappingURL=636.c5a7ae7e.chunk.js.map