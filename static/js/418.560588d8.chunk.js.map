{"version":3,"file":"static/js/418.560588d8.chunk.js","mappings":"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","sources":["components/image-meta.js","components/art-item.js"],"sourcesContent":["import { faCircleHalfStroke } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { useContext, useEffect, useState } from \"react\";\r\nimport { Spinner } from \"react-bootstrap\";\r\nimport Figure from \"react-bootstrap/Figure\";\r\nimport { MongoContext } from \"../context/mongo-context\";\r\n\r\nfunction ImageMeta(props) {\r\n  const [loading, setLoading] = useState(true);\r\n  const [art, setArt] = useState({});\r\n\r\n  const { user, getImageData, addToImageMap } = useContext(MongoContext);\r\n\r\n  useEffect(() => {\r\n    const a = getImageData(props.sid);\r\n    if (!a) {\r\n      setLoading(true);\r\n      user.functions.fetchByID(props.sid).then((resp) => {\r\n        if (resp.result) {\r\n          addToImageMap(props.sid, resp.result);\r\n          setArt(resp.result);\r\n          setLoading(false);\r\n        }\r\n      });\r\n    } else {\r\n      setArt(a);\r\n      setLoading(false);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  if (loading) {\r\n    return <Spinner variant=\"border\" size=\"sm\"></Spinner>;\r\n  }\r\n\r\n  return art ? (\r\n    <>\r\n      <Figure.Caption title=\"Art Title\">\r\n        {art.title} by <span className=\"fw-bold\">{art.artist_name}</span>\r\n      </Figure.Caption>\r\n      <Figure.Caption\r\n        title=\"Auction Name\"\r\n        className=\"font-monospace text-truncate d-none d-md-block\"\r\n      >\r\n        {new Date(art.auction_date).getFullYear()}, {art.auction_name}\r\n      </Figure.Caption>\r\n      <Figure.Caption className=\"py-1 d-none d-md-flex\">\r\n        <div\r\n          title=\"Dominant Color\"\r\n          className=\"color-box me-1\"\r\n          style={{ backgroundColor: `#${art.dom_color}` }}\r\n        ></div>{\" \"}\r\n        <span title=\"size\"> {art.size}</span>\r\n      </Figure.Caption>\r\n\r\n      <Figure.Caption className=\"d-flex justify-content-between\">\r\n        <span title=\"Brightness\">\r\n          <FontAwesomeIcon icon={faCircleHalfStroke} className=\"me-2\" /> {\"  \"}\r\n          {Math.round(art.brightness * 10) / 10}\r\n        </span>\r\n        <a href={art.lot_link} target=\"_blank\" rel=\"noreferrer\">\r\n          Lot ID : {art.lot_id}\r\n        </a>\r\n      </Figure.Caption>\r\n    </>\r\n  ) : null;\r\n}\r\n\r\nexport default ImageMeta;\r\n","import { faTrash } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n\r\nimport { useContext, useState } from \"react\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Figure from \"react-bootstrap/Figure\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport ReactImageMagnify from \"react-image-magnify\";\r\nimport { MongoContext } from \"../context/mongo-context\";\r\nimport ImageMeta from \"./image-meta\";\r\n\r\nconst rows = 3;\r\nfunction ArtItem(props) {\r\n  const { user, getImageData, addToImageMap } = useContext(MongoContext);\r\n\r\n  const [hiddenItems, setHiddenItems] = useState(new Set());\r\n  const onDelete = (n) => {\r\n    const copy = new Set(hiddenItems).add(n);\r\n    setHiddenItems(copy);\r\n    user.functions.deleteSimilarImage(props._id, n).then((resp) => {\r\n      console.log(resp);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Row className=\"shadow p-2 my-2 art-item rounded\" data-key={props._id}>\r\n      <Col xs={12} md={4}>\r\n        <Figure className=\"w-100\">\r\n          <ReactImageMagnify\r\n            {...{\r\n              smallImage: {\r\n                alt: props.title,\r\n                isFluidWidth: true,\r\n                src: props.image_url,\r\n              },\r\n              largeImage: {\r\n                src: props.image_url,\r\n                width: 1200,\r\n                height: 1800,\r\n              },\r\n            }}\r\n            enlargedImagePosition=\"over\"\r\n          />\r\n          <ImageMeta sid={props._id} />\r\n        </Figure>\r\n      </Col>\r\n      <Col className=\"p-1\">\r\n        {Array.from(Array(rows).keys()).map((i) => (\r\n          <Row key={i + \"similar-image-row\"}>\r\n            {[1 + i * 3, 2 + i * 3, 3 + i * 3]\r\n              .filter((x) => !!props[`s${x}`] && !hiddenItems.has(x))\r\n              .map((x) => (\r\n                <Col xs={4} key={x + \"similar-image\"}>\r\n                  <Figure className=\"w-100\">\r\n                    <Figure.Caption\r\n                      title=\"Percentage Similarity\"\r\n                      className=\"fw-bold d-flex justify-content-between\"\r\n                    >\r\n                      <span>\r\n                        {Math.round(props[`percent_similar_s${x}`] * 10) / 10} %\r\n                        Similar\r\n                      </span>\r\n                      <Button\r\n                        onClick={() => onDelete(x)}\r\n                        variant=\"outline\"\r\n                        className=\"p-0\"\r\n                        size=\"sm\"\r\n                      >\r\n                        <FontAwesomeIcon\r\n                          icon={faTrash}\r\n                          size=\"sm\"\r\n                          color=\"grey\"\r\n                        />\r\n                      </Button>\r\n                    </Figure.Caption>\r\n                    <ReactImageMagnify\r\n                      {...{\r\n                        smallImage: {\r\n                          alt: props.title,\r\n                          isFluidWidth: true,\r\n                          src: props[`s${x}_image_uri`],\r\n                        },\r\n                        largeImage: {\r\n                          src: props[`s${x}_image_uri`],\r\n                          width: 1200,\r\n                          height: 1800,\r\n                        },\r\n                      }}\r\n                      enlargedImagePosition=\"over\"\r\n                    />\r\n                    <ImageMeta sid={props[`s${x}`]} />\r\n                  </Figure>\r\n                </Col>\r\n              ))}\r\n          </Row>\r\n        ))}\r\n      </Col>\r\n    </Row>\r\n  );\r\n}\r\n\r\nexport default ArtItem;\r\n"],"names":["props","useState","loading","setLoading","art","setArt","useContext","MongoContext","user","getImageData","addToImageMap","useEffect","a","sid","functions","fetchByID","then","resp","result","Spinner","variant","size","Figure","title","className","artist_name","Date","auction_date","getFullYear","auction_name","style","backgroundColor","dom_color","icon","faCircleHalfStroke","Math","round","brightness","href","lot_link","target","rel","lot_id","Set","hiddenItems","setHiddenItems","Row","_id","Col","xs","md","ReactImageMagnify","smallImage","alt","isFluidWidth","src","image_url","largeImage","width","height","enlargedImagePosition","Array","from","keys","map","i","filter","x","has","Button","onClick","n","copy","add","deleteSimilarImage","console","log","onDelete","faTrash","color"],"sourceRoot":""}