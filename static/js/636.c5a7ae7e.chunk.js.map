{"version":3,"file":"static/js/636.c5a7ae7e.chunk.js","mappings":"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","sources":["../node_modules/react-bootstrap/esm/Image.js","../node_modules/react-bootstrap/esm/FigureImage.js","../node_modules/react-bootstrap/esm/FigureCaption.js","../node_modules/react-bootstrap/esm/Figure.js","components/image-meta.js","components/art-item.js"],"sourcesContent":["import classNames from 'classnames';\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport const propTypes = {\n  /**\n   * @default 'img'\n   */\n  bsPrefix: PropTypes.string,\n\n  /**\n   * Sets image as fluid image.\n   */\n  fluid: PropTypes.bool,\n\n  /**\n   * Sets image shape as rounded.\n   */\n  rounded: PropTypes.bool,\n\n  /**\n   * Sets image shape as circle.\n   */\n  roundedCircle: PropTypes.bool,\n\n  /**\n   * Sets image shape as thumbnail.\n   */\n  thumbnail: PropTypes.bool\n};\nconst defaultProps = {\n  fluid: false,\n  rounded: false,\n  roundedCircle: false,\n  thumbnail: false\n};\nconst Image = /*#__PURE__*/React.forwardRef(({\n  bsPrefix,\n  className,\n  fluid,\n  rounded,\n  roundedCircle,\n  thumbnail,\n  ...props\n}, ref) => {\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'img');\n  return /*#__PURE__*/_jsx(\"img\", {\n    // eslint-disable-line jsx-a11y/alt-text\n    ref: ref,\n    ...props,\n    className: classNames(className, fluid && `${bsPrefix}-fluid`, rounded && `rounded`, roundedCircle && `rounded-circle`, thumbnail && `${bsPrefix}-thumbnail`)\n  });\n});\nImage.displayName = 'Image';\nImage.defaultProps = defaultProps;\nexport default Image;","import classNames from 'classnames';\nimport * as React from 'react';\nimport Image, { propTypes as imagePropTypes } from './Image';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst defaultProps = {\n  fluid: true\n};\nconst FigureImage = /*#__PURE__*/React.forwardRef(({\n  className,\n  ...props\n}, ref) => /*#__PURE__*/_jsx(Image, {\n  ref: ref,\n  ...props,\n  className: classNames(className, 'figure-img')\n}));\nFigureImage.displayName = 'FigureImage';\nFigureImage.propTypes = imagePropTypes;\nFigureImage.defaultProps = defaultProps;\nexport default FigureImage;","import createWithBsPrefix from './createWithBsPrefix';\nconst FigureCaption = createWithBsPrefix('figure-caption', {\n  Component: 'figcaption'\n});\nexport default FigureCaption;","import createWithBsPrefix from './createWithBsPrefix';\nimport FigureImage from './FigureImage';\nimport FigureCaption from './FigureCaption';\nconst Figure = createWithBsPrefix('figure', {\n  Component: 'figure'\n});\nexport default Object.assign(Figure, {\n  Image: FigureImage,\n  Caption: FigureCaption\n});","import {\r\n  faCircleHalfStroke,\r\n  faDollarSign,\r\n  faExternalLink,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { useContext, useEffect, useState } from \"react\";\r\nimport { Badge, Image, Spinner } from \"react-bootstrap\";\r\nimport Figure from \"react-bootstrap/Figure\";\r\nimport { MongoContext } from \"../context/mongo-context\";\r\n\r\nfunction ImageMeta(props) {\r\n  const [loading, setLoading] = useState(true);\r\n  const [art, setArt] = useState({});\r\n  const [dateYear, setDateYear] = useState(\"\");\r\n\r\n  const { user, getImageData, addToImageMap, filters, setFilters } =\r\n    useContext(MongoContext);\r\n\r\n  const onImageClick = (value) => {\r\n    let copy = new Map(filters);\r\n    copy.set(\"_id\", [value]);\r\n    setFilters(copy);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const a = getImageData(props.sid);\r\n    if (!a) {\r\n      setLoading(true);\r\n      user.functions.fetchByID(props.sid).then((resp) => {\r\n        if (resp.result) {\r\n          addToImageMap(props.sid.toString(), resp.result[0]);\r\n          setArt(resp.result[0]);\r\n          setDateYear(resp.result[0]?.auction_date?.getFullYear());\r\n\r\n          setLoading(false);\r\n        }\r\n      });\r\n    } else {\r\n      setArt(a);\r\n      setLoading(false);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  if (loading) {\r\n    return <Spinner variant=\"border\" size=\"sm\"></Spinner>;\r\n  }\r\n\r\n  return art ? (\r\n    <>\r\n      <Image\r\n        fluid\r\n        src={art.image_url}\r\n        alt={art.title}\r\n        className=\"w-100 cursor-pointer\"\r\n        onClick={() => onImageClick(art._id)}\r\n      />\r\n      <div className=\"px-1 pb-1\">\r\n        <Figure.Caption title=\"Art Title\">\r\n          {art.title} by <span className=\"fw-bold\">{art.artist_name}</span>\r\n        </Figure.Caption>\r\n\r\n        <Figure.Caption\r\n          title={`Auction Name ${art.auction_name} - ${dateYear}`}\r\n          className=\"font-monospace text-truncate d-none d-md-block\"\r\n        >\r\n          {dateYear}, {art.auction_name}\r\n        </Figure.Caption>\r\n        <Figure.Caption className=\"py-1 d-none d-md-flex\">\r\n          <div\r\n            title=\"Dominant Color\"\r\n            className=\"color-box me-1\"\r\n            style={{ backgroundColor: `#${art.dom_color}` }}\r\n          ></div>\r\n          <span className=\"text-truncate\"> {art.size}</span>\r\n        </Figure.Caption>\r\n        <Figure.Caption className=\"py-1 justify-content-between d-flex\">\r\n          <span title=\"Brightness\">\r\n            <FontAwesomeIcon icon={faCircleHalfStroke} className=\"me-2\" />{\" \"}\r\n            {Math.round(art.brightness * 10) / 10}\r\n          </span>\r\n          <Badge pill bg=\"success\" title=\"Winning Bid\">\r\n            {art.winning_bid > 0 ? (\r\n              <>\r\n                <FontAwesomeIcon icon={faDollarSign} className=\"me-1\" />\r\n                {Math.round(art.winning_bid * 10) / 10}\r\n              </>\r\n            ) : (\r\n              \"Not Sold!\"\r\n            )}\r\n          </Badge>\r\n        </Figure.Caption>\r\n\r\n        <Figure.Caption className=\"d-flex justify-content-between\">\r\n          {art.hi_est > 0 || art.lo_est > 0 ? (\r\n            <Badge pill bg=\"secondary\" title=\"Estimated Cost Range\">\r\n              <FontAwesomeIcon icon={faDollarSign} className=\"me-1\" />\r\n              {art.hi_est > 0\r\n                ? Math.round(art.hi_est * 10) / 10 + \" -\"\r\n                : null}{\" \"}\r\n              {art.lo_est > 0 ? Math.round(art.lo_est * 10) / 10 : null}\r\n            </Badge>\r\n          ) : null}\r\n          <a\r\n            href={art.lot_link}\r\n            target=\"_blank\"\r\n            rel=\"noreferrer\"\r\n            className=\"small\"\r\n          >\r\n            Lot ID : {art.lot_id}\r\n            <FontAwesomeIcon icon={faExternalLink} className=\"mx-1\" />\r\n          </a>\r\n        </Figure.Caption>\r\n        {art.provenance ? (\r\n          <Figure.Caption className=\"d-flex small p-1\">\r\n            {art.provenance.replace(/provenance:|/gi, \"\")}\r\n          </Figure.Caption>\r\n        ) : null}\r\n      </div>\r\n    </>\r\n  ) : null;\r\n}\r\n\r\nexport default ImageMeta;\r\n","import { faTrash } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { useContext, useState } from \"react\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Figure from \"react-bootstrap/Figure\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport { MongoContext } from \"../context/mongo-context\";\r\nimport ImageMeta from \"./image-meta\";\r\n\r\nconst rows = 3;\r\nfunction ArtItem(props) {\r\n  const { user, isAdmin } = useContext(MongoContext);\r\n\r\n  const [hiddenItems, setHiddenItems] = useState(new Set());\r\n  const onDelete = (n) => {\r\n    const copy = new Set(hiddenItems).add(n);\r\n    setHiddenItems(copy);\r\n    user.functions.deleteSimilarImage(props._id, n).then((resp) => {\r\n      console.log(resp);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Row className=\"shadow p-2 my-2 art-item rounded\" data-key={props._id}>\r\n      <Col xs={12} md={4}>\r\n        <Figure className=\"w-100\">\r\n          <ImageMeta sid={props._id} />\r\n        </Figure>\r\n      </Col>\r\n      <Col className=\"p-1\">\r\n        {Array.from(Array(rows).keys()).map((i) => (\r\n          <Row key={i + \"similar-image-row\"}>\r\n            {[1 + i * 3, 2 + i * 3, 3 + i * 3]\r\n              .filter((x) => !!props[`s${x}`] && !hiddenItems.has(x))\r\n              .map((x) => (\r\n                <Col xs={4} key={x + \"similar-image\"}>\r\n                  <Figure className=\"w-100 shadow-sm bg-white p-1\">\r\n                    <Figure.Caption\r\n                      title=\"Percentage Similarity\"\r\n                      className=\"fw-bold d-flex justify-content-between\"\r\n                    >\r\n                      <span>\r\n                        {Math.round(props[`percent_similar_s${x}`] * 100)} %\r\n                        Similar\r\n                      </span>\r\n                      {isAdmin ? (\r\n                        <Button\r\n                          onClick={() => onDelete(x)}\r\n                          variant=\"outline\"\r\n                          className=\"p-0\"\r\n                          size=\"sm\"\r\n                        >\r\n                          <FontAwesomeIcon\r\n                            icon={faTrash}\r\n                            size=\"sm\"\r\n                            color=\"grey\"\r\n                          />\r\n                        </Button>\r\n                      ) : null}\r\n                    </Figure.Caption>\r\n\r\n                    <ImageMeta sid={props[`s${x}`]} />\r\n                  </Figure>\r\n                </Col>\r\n              ))}\r\n          </Row>\r\n        ))}\r\n      </Col>\r\n    </Row>\r\n  );\r\n}\r\n\r\nexport default ArtItem;\r\n"],"names":["propTypes","bsPrefix","PropTypes","fluid","rounded","roundedCircle","thumbnail","Image","React","ref","className","props","useBootstrapPrefix","_jsx","classNames","displayName","defaultProps","FigureImage","imagePropTypes","createWithBsPrefix","Component","Figure","Object","assign","Caption","FigureCaption","useState","loading","setLoading","art","setArt","dateYear","setDateYear","useContext","MongoContext","user","getImageData","addToImageMap","filters","setFilters","useEffect","a","sid","functions","fetchByID","then","resp","result","toString","auction_date","getFullYear","Spinner","variant","size","src","image_url","alt","title","onClick","value","copy","Map","set","onImageClick","_id","artist_name","auction_name","style","backgroundColor","dom_color","icon","faCircleHalfStroke","Math","round","brightness","Badge","pill","bg","winning_bid","faDollarSign","hi_est","lo_est","href","lot_link","target","rel","lot_id","faExternalLink","provenance","replace","isAdmin","Set","hiddenItems","setHiddenItems","Row","Col","xs","md","Array","from","keys","map","i","filter","x","has","Button","n","add","deleteSimilarImage","console","log","onDelete","faTrash","color"],"sourceRoot":""}