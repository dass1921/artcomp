{"version":3,"file":"static/js/418.36e965f1.chunk.js","mappings":"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","sources":["components/image-meta.js","components/art-item.js"],"sourcesContent":["import {\r\n  faCircleHalfStroke,\r\n  faDollarSign,\r\n  faExternalLink,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { useContext, useEffect, useState } from \"react\";\r\nimport { Badge, Spinner } from \"react-bootstrap\";\r\nimport Figure from \"react-bootstrap/Figure\";\r\nimport { MongoContext } from \"../context/mongo-context\";\r\n\r\nfunction ImageMeta(props) {\r\n  const [loading, setLoading] = useState(true);\r\n  const [art, setArt] = useState({});\r\n  const [dateYear, setDateYear] = useState(\"\");\r\n\r\n  const { user, getImageData, addToImageMap } = useContext(MongoContext);\r\n\r\n  useEffect(() => {\r\n    const a = getImageData(props.sid);\r\n    if (!a) {\r\n      setLoading(true);\r\n      user.functions.fetchByID(props.sid).then((resp) => {\r\n        if (resp.result) {\r\n          addToImageMap(props.sid, resp.result);\r\n          setArt(resp.result[0]);\r\n          setDateYear(new Date(resp.result.auction_date).getFullYear());\r\n\r\n          setLoading(false);\r\n        }\r\n      });\r\n    } else {\r\n      setArt(a);\r\n      setLoading(false);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  if (loading) {\r\n    return <Spinner variant=\"border\" size=\"sm\"></Spinner>;\r\n  }\r\n\r\n  return art ? (\r\n    <div className=\"px-1 pb-1\">\r\n      <Figure.Caption title=\"Art Title\">\r\n        {art.title} by <span className=\"fw-bold\">{art.artist_name}</span>\r\n      </Figure.Caption>\r\n\r\n      <Figure.Caption\r\n        title={`Auction Name ${art.auction_name} - ${dateYear}`}\r\n        className=\"font-monospace text-truncate d-none d-md-block\"\r\n      >\r\n        {dateYear}, {art.auction_name}\r\n      </Figure.Caption>\r\n      <Figure.Caption className=\"py-1 d-none d-md-flex\">\r\n        <div\r\n          title=\"Dominant Color\"\r\n          className=\"color-box me-1\"\r\n          style={{ backgroundColor: `#${art.dom_color}` }}\r\n        ></div>\r\n        <span className=\"text-truncate\"> {art.size}</span>\r\n      </Figure.Caption>\r\n      <Figure.Caption className=\"py-1 d-none d-md-flex\">\r\n        <span title=\"Brightness\">\r\n          <FontAwesomeIcon icon={faCircleHalfStroke} className=\"me-2\" /> {\"  \"}\r\n          {Math.round(art.brightness * 10) / 10}\r\n        </span>\r\n      </Figure.Caption>\r\n\r\n      <Figure.Caption className=\"d-flex justify-content-between\">\r\n        <Badge pill bg=\"success\" title=\"Cost\">\r\n          <FontAwesomeIcon icon={faDollarSign} className=\"me-1\" />\r\n          {Math.round(art.hi_est * 10) / 10} -{\" \"}\r\n          {Math.round(art.lo_est * 10) / 10}\r\n        </Badge>\r\n        <a\r\n          href={art.lot_link}\r\n          target=\"_blank\"\r\n          rel=\"noreferrer\"\r\n          className=\"small\"\r\n        >\r\n          Lot ID : {art.lot_id}\r\n          <FontAwesomeIcon icon={faExternalLink} className=\"mx-1\" />\r\n        </a>\r\n      </Figure.Caption>\r\n      {art.provenance ? (\r\n        <Figure.Caption className=\"d-flex small p-1\">\r\n          {art.provenance.replace(/provenance:|/gi, \"\")}\r\n        </Figure.Caption>\r\n      ) : null}\r\n    </div>\r\n  ) : null;\r\n}\r\n\r\nexport default ImageMeta;\r\n","import { faTrash } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n\r\nimport { useContext, useState } from \"react\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Figure from \"react-bootstrap/Figure\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport ReactImageMagnify from \"react-image-magnify\";\r\nimport { MongoContext } from \"../context/mongo-context\";\r\nimport ImageMeta from \"./image-meta\";\r\n\r\nconst rows = 3;\r\nfunction ArtItem(props) {\r\n  const { user, isAdmin } = useContext(MongoContext);\r\n\r\n  const [hiddenItems, setHiddenItems] = useState(new Set());\r\n  const onDelete = (n) => {\r\n    const copy = new Set(hiddenItems).add(n);\r\n    setHiddenItems(copy);\r\n    user.functions.deleteSimilarImage(props._id, n).then((resp) => {\r\n      console.log(resp);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Row className=\"shadow p-2 my-2 art-item rounded\" data-key={props._id}>\r\n      <Col xs={12} md={4}>\r\n        <Figure className=\"w-100\">\r\n          <ReactImageMagnify\r\n            {...{\r\n              smallImage: {\r\n                alt: props.title,\r\n                isFluidWidth: true,\r\n                src: props.image_url,\r\n              },\r\n              largeImage: {\r\n                src: props.image_url,\r\n                width: 1200,\r\n                height: 1800,\r\n              },\r\n            }}\r\n            enlargedImagePosition=\"over\"\r\n          />\r\n          <ImageMeta sid={props._id} />\r\n        </Figure>\r\n      </Col>\r\n      <Col className=\"p-1\">\r\n        {Array.from(Array(rows).keys()).map((i) => (\r\n          <Row key={i + \"similar-image-row\"}>\r\n            {[1 + i * 3, 2 + i * 3, 3 + i * 3]\r\n              .filter((x) => !!props[`s${x}`] && !hiddenItems.has(x))\r\n              .map((x) => (\r\n                <Col xs={4} key={x + \"similar-image\"}>\r\n                  <Figure className=\"w-100 shadow-sm bg-white p-1\">\r\n                    <Figure.Caption\r\n                      title=\"Percentage Similarity\"\r\n                      className=\"fw-bold d-flex justify-content-between\"\r\n                    >\r\n                      <span>\r\n                        {Math.round(props[`percent_similar_s${x}`] * 10) / 10} %\r\n                        Similar\r\n                      </span>\r\n                      {isAdmin ? (\r\n                        <Button\r\n                          onClick={() => onDelete(x)}\r\n                          variant=\"outline\"\r\n                          className=\"p-0\"\r\n                          size=\"sm\"\r\n                        >\r\n                          <FontAwesomeIcon\r\n                            icon={faTrash}\r\n                            size=\"sm\"\r\n                            color=\"grey\"\r\n                          />\r\n                        </Button>\r\n                      ) : null}\r\n                    </Figure.Caption>\r\n                    <ReactImageMagnify\r\n                      {...{\r\n                        smallImage: {\r\n                          alt: props.title,\r\n                          isFluidWidth: true,\r\n                          src: props[`s${x}_image_uri`],\r\n                        },\r\n                        largeImage: {\r\n                          src: props[`s${x}_image_uri`],\r\n                          width: 1200,\r\n                          height: 1800,\r\n                        },\r\n                      }}\r\n                      enlargedImagePosition=\"over\"\r\n                    />\r\n                    <ImageMeta sid={props[`s${x}`]} />\r\n                  </Figure>\r\n                </Col>\r\n              ))}\r\n          </Row>\r\n        ))}\r\n      </Col>\r\n    </Row>\r\n  );\r\n}\r\n\r\nexport default ArtItem;\r\n"],"names":["props","useState","loading","setLoading","art","setArt","dateYear","setDateYear","useContext","MongoContext","user","getImageData","addToImageMap","useEffect","a","sid","functions","fetchByID","then","resp","result","Date","auction_date","getFullYear","Spinner","variant","size","className","Figure","title","artist_name","auction_name","style","backgroundColor","dom_color","icon","faCircleHalfStroke","Math","round","brightness","Badge","pill","bg","faDollarSign","hi_est","lo_est","href","lot_link","target","rel","lot_id","faExternalLink","provenance","replace","isAdmin","Set","hiddenItems","setHiddenItems","Row","_id","Col","xs","md","ReactImageMagnify","smallImage","alt","isFluidWidth","src","image_url","largeImage","width","height","enlargedImagePosition","Array","from","keys","map","i","filter","x","has","Button","onClick","n","copy","add","deleteSimilarImage","console","log","onDelete","faTrash","color"],"sourceRoot":""}